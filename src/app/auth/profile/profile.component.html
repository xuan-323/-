<div class="relative flex min-h-screen w-full flex-col items-center overflow-x-hidden">
  <div class="flex h-full w-full max-w-[480px] flex-col bg-background-light dark:bg-background-dark shadow-2xl min-h-screen relative">

    <!-- Header Nav -->
    <header class="sticky top-0 z-10 flex items-center justify-between bg-background-light/90 dark:bg-background-dark/90 px-4 py-3 backdrop-blur-md">
      <button
        class="flex h-10 w-10 items-center justify-center rounded-full text-text-main dark:text-white hover:bg-black/5 dark:hover:bg-white/5 transition"
        (click)="goBack()"
      >
        <span class="material-symbols-outlined">arrow_back</span>
      </button>

      <h1 class="text-lg font-bold tracking-tight text-text-main dark:text-white">
        個人資料設定
      </h1>

      <button class="flex h-10 w-10 items-center justify-center rounded-full text-text-main dark:text-white hover:bg-black/5 dark:hover:bg-white/5 transition">
        <span class="material-symbols-outlined">more_vert</span>
      </button>
    </header>

    <!-- Decorative Header -->
    <div class="w-full h-32 bg-[#fff8f0] dark:bg-[#2c241b] flex items-center justify-center overflow-hidden relative">
      <div class="absolute inset-0 opacity-20"
           style="background-image: radial-gradient(#f27f0d 1px, transparent 1px); background-size: 20px 20px;">
      </div>
      <img
        class="h-full w-full object-cover object-center opacity-80"
        src="https://lh3.googleusercontent.com/aida-public/AB6AXuD7MnKGceFk-rnzjL3U4aWsGUDlWc7it-24nXss-BrKmP5L6ePwqKgdSo3-9s5dSS9drMAkWCHLesAGavuMFa1sOXy7bzyZw5AY3YL7WYbdqFiga4f5flwQexaIkZqTtMQJNGDcC55Z8BcfBevySfkToLEHSpOrzEDW-GYMBS_Ite3L3ZQIMrVKWY68GVY0wIVg7hGMaRVkpaMoS052I-DTyssd5MO6xSjoVEE5FAEdJFll9SHqVoWsGWve05HuevmIO08yFrL_Wjvv"
      />
    </div>

    <main class="flex-1 px-5 pb-24 -mt-6">

      <!-- Avatar -->
      <div class="flex flex-col items-center mb-8">
        <div class="relative">
          <div class="h-28 w-28 rounded-full border-4 border-background-light dark:border-background-dark shadow-lg overflow-hidden bg-gray-200">
            <img class="h-full w-full object-cover" [src]="avatarUrl" />
          </div>
          <button
            class="absolute bottom-1 right-1 flex h-9 w-9 items-center justify-center rounded-full bg-primary text-white shadow-md border-2 border-background-light dark:border-background-dark"
            (click)="changeAvatar()"
          >
            <span class="material-symbols-outlined text-[18px]">photo_camera</span>
          </button>
        </div>
        <p class="mt-3 text-sm text-text-light">點擊頭像進行更換</p>
      </div>

      <!-- Username -->
      <div class="flex flex-col gap-2 mb-6">
        <label class="text-sm font-bold">暱稱 Username</label>
        <input
          class="w-full rounded-xl bg-white py-3.5 pl-4 pr-10 shadow-sm ring-1 ring-inset ring-[#e6e0db]"
          [(ngModel)]="username"
        />
      </div>

      <!-- Gender -->
      <div class="flex flex-col gap-2 mb-6">
        <label class="text-sm font-bold">性別 Gender</label>
        <div class="flex gap-3">
          <label class="flex-1 cursor-pointer">
            <input class="sr-only peer" type="radio" value="male" [(ngModel)]="gender" />
            <div class="h-11 flex items-center justify-center rounded-xl peer-checked:bg-primary peer-checked:text-white">
              男性
            </div>
          </label>
          <label class="flex-1 cursor-pointer">
            <input class="sr-only peer" type="radio" value="female" [(ngModel)]="gender" />
            <div class="h-11 flex items-center justify-center rounded-xl peer-checked:bg-primary peer-checked:text-white">
              女性
            </div>
          </label>
          <label class="flex-1 cursor-pointer">
            <input class="sr-only peer" type="radio" value="secret" [(ngModel)]="gender" />
            <div class="h-11 flex items-center justify-center rounded-xl peer-checked:bg-primary peer-checked:text-white">
              保密
            </div>
          </label>
        </div>
      </div>

      <!-- Bio -->
      <div class="flex flex-col gap-2">
        <label class="text-sm font-bold">關於我 About Me</label>
        <textarea
          class="w-full rounded-xl bg-white py-3 px-4 shadow-sm ring-1 ring-inset ring-[#e6e0db]"
          rows="3"
          [(ngModel)]="bio"
        ></textarea>
      </div>

    </main>

    <!-- Save -->
    <div class="sticky bottom-0 p-5 bg-background-light/80 backdrop-blur-lg border-t">
      <button
        class="w-full rounded-xl bg-primary py-3.5 text-white font-bold"
        (click)="saveProfile()"
      >
        儲存變更 Save Changes
      </button>
    </div>

  </div>
</div>
